@using Rocketcore.Search
@using Fortis.Search
@using Sitecore.ContentSearch.SearchTypes
@{
	var results = new List<IItemWrapper>();
	var searchManager = DependencyResolver.Current.GetService<ISearchManager>();
	var itemSearchFactory = DependencyResolver.Current.GetService<IItemSearchFactory>();
	SearchResults<SearchResultItem> scQueryableResults = null;
	IEnumerable<IContentPage> queryableResults = null;
	SearchResults<IContentPage> searchResults = null;
	IEnumerable<ITag> templateResults = null;
	SearchResults<Rocketcore.Model.MyHome> pocoQueryableResults = null;

using (var searchContext = searchManager.SearchContext)
{
		var scQueryable = searchContext.GetQueryable<SearchResultItem>();

		//scQueryableResults = scQueryable.Where(item => item.Name == "Home").GetResults();

		var queryable = itemSearchFactory.Search<IContentPage>(searchContext);

		var ids = new List<Guid> { new Guid("{AB1B5DC2-B122-48AE-9D42-C3B924FCB8EF}"), new Guid("{0C414818-0EE0-4826-B398-9112876DE7CD}") };
		//queryableResults = queryable.ContainsOr(item => item.AggregatedTags, ids).ToList();

		var templatesQueryable = itemSearchFactory.Search<ITag>(searchContext);

		//templateResults = homePageQueryable.Where(item => item.Name == "Home").ToList();
		templateResults = templatesQueryable.ToList();

		var searchResultsQueryable = itemSearchFactory.FilteredSearch<IContentPage>(searchContext.GetQueryable<IContentPage>());

		searchResults = searchResultsQueryable.GetResults();

		var pocoQueryable = searchContext.GetQueryable<Rocketcore.Model.MyHome>();

		//pocoQueryableResults = pocoQueryable.Where(item => item.Name == "Home").GetResults();

		var contentPageResultsQueryable = itemSearchFactory.FilteredSearch<IContentPage>(searchContext.GetQueryable<IContentPage>());

		var contentPageResults = contentPageResultsQueryable.ToList();

<h1>Search Test</h1>
<hr />
<h2>scQueryableResults Results</h2>
<ul>
	@{
		if (scQueryableResults != null)
		{
			foreach (var result in scQueryableResults)
			{
				<li>@result.Document.Name | @result.Document.Path</li>
			}
		}
		else
		{
			<li>Object is null</li>
		}
	}
</ul>
<hr />
	<h2>queryableResults Results</h2>
	<ul>
		@{
		if (queryableResults != null)
		{
			foreach (var result in queryableResults)
			{
				<li>@result.Name | @result.ItemLocation</li>
			}
		}
		else
		{
			<li>Object is null</li>
		}
		}
	</ul>
	<hr />
	<h2>templateResults Results</h2>
	<ul>
		@{
		if (templateResults != null)
		{
			foreach (var result in templateResults)
			{
				<li>@result.Name | @result.ItemLocation</li>
			}
		}
		else
		{
			<li>Object is null</li>
		}
		}
	</ul>
	<hr />
	<h2>searchResults Results (@searchResults.TotalSearchResults)</h2>
	<ul>
		@{
		if (searchResults != null)
		{
			foreach (var result in searchResults)
			{
				<li>@result.Document.Name | @result.Document.ItemLocation</li>
			}
		}
		else
		{
			<li>Object is null</li>
		}
		}
	</ul>
	<h2>pocoQueryableResults Results</h2>
	<ul>
		@{
		if (pocoQueryableResults != null)
		{
			foreach (var result in pocoQueryableResults)
			{
				<li>@result.Document.Name</li>
			}
		}
		else
		{
			<li>Object is null</li>
		}
		}
	</ul>
	<h2>contentPageResults Results</h2>
	<ul>
		@{
		if (contentPageResults != null)
		{
			foreach (var result in contentPageResults)
			{
				<li>@result.Name | @result.ItemLocation</li>
			}
		}
		else
		{
			<li>Object is null</li>
		}
		}
	</ul>
	}
}